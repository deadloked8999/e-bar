# 📱 E-Bar - Информация о проекте

## 🎯 Цель проекта

Создание унифицированной цифровой платформы для баров, клубов и гостиниц с системой управления документами для последующего подписания онлайн-договоров с поставщиками алкогольной продукции.

---

## 📊 Текущий статус: MVP v1.0

### ✅ Реализовано

#### Backend (Python + FastAPI)
- ✅ RESTful API для управления документами
- ✅ Загрузка файлов (PDF, JPG, PNG, DOC, DOCX)
- ✅ Валидация файлов (тип, размер до 10MB)
- ✅ Система статусов документов (pending/verified/rejected)
- ✅ CRUD операции для документов
- ✅ Статистика по документам
- ✅ CORS настройка для локальной разработки
- ✅ Автоматическая документация API (Swagger)

#### Frontend (React + TypeScript)
- ✅ Современный iOS-стиль дизайн
- ✅ Drag & Drop интерфейс загрузки
- ✅ 4 блока документов (12 типов документов)
- ✅ Компонент загрузки с превью
- ✅ Список загруженных документов
- ✅ Статистика в реальном времени
- ✅ Ручная верификация документов
- ✅ Анимации и transitions (Framer Motion)
- ✅ Адаптивный дизайн
- ✅ React Query для управления состоянием

### 🔄 В разработке
- База данных (SQLite → PostgreSQL)
- Система аутентификации
- API интеграция для автоматической проверки документов

### 📋 Планируется
- Электронная подпись договоров
- Email уведомления
- Экспорт отчетов
- Мобильное приложение

---

## 🏗️ Архитектура

```
┌─────────────────────────────────────────┐
│           Frontend (React)              │
│  ┌─────────────────────────────────┐   │
│  │  Components                      │   │
│  │  - DocumentUploader              │   │
│  │  - DocumentList                  │   │
│  │  - Statistics                    │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │  State Management (React Query)  │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │  API Client (Axios)              │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
                    ↕ HTTP/REST
┌─────────────────────────────────────────┐
│           Backend (FastAPI)             │
│  ┌─────────────────────────────────┐   │
│  │  API Endpoints                   │   │
│  │  - /api/documents/upload         │   │
│  │  - /api/documents                │   │
│  │  - /api/documents/{id}           │   │
│  │  - /api/documents/{id}/verify    │   │
│  │  - /api/documents/stats          │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │  Business Logic                  │   │
│  │  - File validation               │   │
│  │  - Document management           │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │  Storage (In-Memory → DB)        │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
                    ↕
┌─────────────────────────────────────────┐
│      File System (uploads/)             │
└─────────────────────────────────────────┘
```

---

## 📋 Типы документов (12 шт.)

### Блок 1: Регистрационные документы
| № | Тип | Код | Описание |
|---|-----|-----|----------|
| 1 | ОГРН/ИНН | `ogrn_inn` | Основной государственный регистрационный номер |
| 2 | Устав | `charter` | Устав организации |
| 3 | Свидетельство | `registration_certificate` | Свидетельство о государственной регистрации |

### Блок 2: Лицензии
| № | Тип | Код | Описание |
|---|-----|-----|----------|
| 4 | Лицензия на алкоголь | `alcohol_license` | Лицензия на продажу алкогольной продукции |
| 5 | Лицензия на общепит | `catering_license` | Лицензия на оказание услуг общественного питания |
| 6 | Санитарное разрешение | `sanitary_permit` | Санитарно-эпидемиологическое заключение |

### Блок 3: Финансовые документы
| № | Тип | Код | Описание |
|---|-----|-----|----------|
| 7 | Выписка из банка | `bank_statement` | Банковская выписка за последние 3 месяца |
| 8 | Налоговая декларация | `tax_declaration` | Налоговая декларация за последний период |
| 9 | Договор аренды | `lease_agreement` | Договор аренды помещения |

### Блок 4: Документы представителя
| № | Тип | Код | Описание |
|---|-----|-----|----------|
| 10 | Паспорт директора | `director_passport` | Копия паспорта директора |
| 11 | Приказ о назначении | `appointment_order` | Приказ о назначении директора |
| 12 | Доверенность | `power_of_attorney` | Доверенность на представителя (опционально) |

---

## 🔐 Безопасность

### Текущие меры
- ✅ Валидация типов файлов
- ✅ Ограничение размера файлов (10MB)
- ✅ CORS защита
- ✅ Санитизация имен файлов
- ✅ Уникальные ID для документов (UUID)

### Планируется
- JWT аутентификация
- Шифрование файлов
- Аудит логи
- Rate limiting
- SSL/TLS сертификаты

---

## 📊 API Endpoints

### Документы

#### POST /api/documents/upload
Загрузка документа
```json
Request (multipart/form-data):
{
  "file": File,
  "document_type": "ogrn_inn"
}

Response (201):
{
  "id": "uuid",
  "document_type": "ogrn_inn",
  "filename": "document.pdf",
  "status": "pending",
  "uploaded_at": "2024-01-01T12:00:00",
  "verified_at": null,
  "file_path": "uploads/uuid_document.pdf"
}
```

#### GET /api/documents
Получить все документы
```json
Response (200):
{
  "documents": [...]
}
```

#### GET /api/documents/{id}
Получить документ по ID
```json
Response (200):
{
  "id": "uuid",
  "document_type": "ogrn_inn",
  ...
}
```

#### POST /api/documents/{id}/verify
Верифицировать документ
```json
Request (form-data):
{
  "status": "verified" | "rejected"
}

Response (200):
{
  "id": "uuid",
  "status": "verified",
  "verified_at": "2024-01-01T12:30:00",
  ...
}
```

#### DELETE /api/documents/{id}
Удалить документ
```json
Response (200):
{
  "message": "Document deleted successfully"
}
```

#### GET /api/documents/stats
Статистика
```json
Response (200):
{
  "total": 12,
  "pending": 5,
  "verified": 6,
  "rejected": 1
}
```

---

## 🎨 Дизайн система

### Цвета (iOS палитра)
```css
--ios-blue: #007AFF;
--ios-green: #34C759;
--ios-red: #FF3B30;
--ios-orange: #FF9500;
--ios-yellow: #FFCC00;

/* Градации серого */
--ios-gray-50: #F2F2F7;
--ios-gray-900: #1C1C1E;
```

### Компоненты
- **Кнопки**: Скругленные (12px), с тенями
- **Карточки**: Border-radius 20px, тень iOS-стиль
- **Анимации**: 150ms, cubic-bezier(0.4, 0, 0.2, 1)
- **Шрифт**: SF Pro Display (system-ui fallback)

### Breakpoints
- Mobile: < 768px
- Tablet: 768px - 1024px
- Desktop: > 1024px

---

## 📈 Метрики производительности

### Frontend
- ⚡ First Contentful Paint: < 1s
- ⚡ Time to Interactive: < 2s
- 📦 Bundle size: ~500KB (gzipped)

### Backend
- ⚡ API Response time: < 100ms
- 📤 Upload speed: зависит от файла
- 🔄 Max concurrent uploads: 10

---

## 🧪 Тестирование

### Ручное тестирование
- ✅ Загрузка всех типов файлов
- ✅ Валидация размера файлов
- ✅ Drag & Drop функциональность
- ✅ Верификация документов
- ✅ Удаление документов
- ✅ Отображение статистики

### Планируется
- Unit тесты (Jest, Pytest)
- E2E тесты (Playwright)
- API тесты (Postman)
- Нагрузочное тестирование

---

## 🚀 Развертывание

### Текущая среда
- **Режим**: Локальная разработка
- **Backend**: http://localhost:8000
- **Frontend**: http://localhost:5173

### Планируется
- Docker контейнеризация
- CI/CD pipeline (GitHub Actions)
- Staging окружение
- Production окружение (AWS/Azure)
- Мониторинг (Prometheus + Grafana)

---

## 📚 Документация

### Доступная документация
- ✅ README.md - Общее описание
- ✅ INSTALL.md - Установка и настройка
- ✅ QUICK_START.md - Быстрый старт
- ✅ PROJECT_INFO.md - Детальная информация (этот файл)
- ✅ API Docs - http://localhost:8000/docs (автогенерация)

### Планируется
- Документация API (OpenAPI)
- Руководство пользователя
- Руководство администратора
- Видео-инструкции

---

## 👥 Команда и роли

### Текущая стадия: MVP
Разработчик: Full-stack

### Планируется
- Frontend разработчик
- Backend разработчик
- UI/UX дизайнер
- DevOps инженер
- QA тестировщик

---

## 📊 Roadmap

### Фаза 1: MVP ✅ (Текущая)
- ✅ Базовая функциональность
- ✅ Загрузка документов
- ✅ Ручная верификация
- ✅ iOS-дизайн

### Фаза 2: Alpha (Q1 2025)
- [ ] База данных PostgreSQL
- [ ] Аутентификация JWT
- [ ] API автопроверки документов
- [ ] Email уведомления

### Фаза 3: Beta (Q2 2025)
- [ ] Электронная подпись
- [ ] Шаблоны договоров
- [ ] Интеграция с поставщиками
- [ ] Мобильное приложение

### Фаза 4: Production (Q3 2025)
- [ ] Полный функционал
- [ ] Масштабирование
- [ ] Интеграция с 1С
- [ ] Поддержка 24/7

---

## 🔧 Конфигурация

### Backend (.env)
```env
HOST=0.0.0.0
PORT=8000
DEBUG=True
MAX_FILE_SIZE=10485760
UPLOAD_DIR=uploads
DOCUMENT_VERIFICATION_API_KEY=
```

### Frontend (vite.config.ts)
```typescript
server: {
  port: 5173,
  proxy: {
    '/api': 'http://localhost:8000'
  }
}
```

---

## 📞 Поддержка

### Каналы связи
- 📧 Email: support@ebar.local (планируется)
- 💬 Telegram: @ebar_support (планируется)
- 🐛 Issues: GitHub Issues

### Часы работы
- Разработка: 24/7 (автоматические обновления)
- Поддержка: По запросу

---

## 📄 Лицензия

Проприетарное ПО. Все права защищены.

---

## 🎉 Благодарности

Спасибо за использование E-Bar!

**Версия документа:** 1.0
**Дата обновления:** 2025-12-03

